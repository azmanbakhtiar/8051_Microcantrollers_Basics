C51 COMPILER V9.60.0.0   TASK11                                                            08/22/2022 04:16:53 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE TASK11
OBJECT MODULE PLACED IN .\Objects\task11.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE task11.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\ta
                    -sk11.lst) TABS(2) OBJECT(.\Objects\task11.obj)

line level    source

   1          #include<reg51.h>
   2          #define Switch_released 0                        // Defining Switch_released
   3          #define Switch_pressed 1                         // Defining Switch_pressed
   4          
   5          sbit led_yellow=P2^0;                            // Pin declaration
   6          sbit switch_k1 =P3^1;                            // Pin declaration
   7          unsigned int k1_btn_state = 0;                   // Declaration of variable
   8          unsigned int k1_press_counter=0;                 // Declaration of variable
   9          unsigned int k1_release_counter=0;               // Declaration of variable
  10          void timer_interupt_10ms()  interrupt 1          // Interrupt function
  11          {  TH0=0xDC;                                     //initial value for 10ms
  12   1         TL0=0x00;
  13   1         if(k1_btn_state==0){                          // Using If & else statements
  14   2            if(switch_k1==Switch_pressed)
  15   2            {
  16   3            k1_press_counter++;
  17   3            if(k1_press_counter==10)
  18   3            {
  19   4              led_yellow=~led_yellow;
  20   4              k1_btn_state=1;
  21   4         }
  22   3          
  23   3         }
  24   2         else
  25   2            k1_press_counter=0;
  26   2           
  27   2         }
  28   1          
  29   1           if (k1_btn_state==1)
  30   1           {
  31   2        
  32   2        if(switch_k1==Switch_released)
  33   2        {
  34   3        k1_release_counter++;
  35   3        if(k1_release_counter==10)
  36   3        {
  37   4           k1_btn_state=0;
  38   4           }
  39   3        }
  40   2        else
  41   2        {
  42   3           k1_release_counter=0;
  43   3           }
  44   2        
  45   2        }
  46   1            
  47   1           }
  48           
  49             
  50           
  51          void main(void)                        //Main Function
  52           {  TMOD=0x01;                           // Timer0 mode1
  53   1          TH0=0xDC;                          //initial value for 10ms
  54   1          TL0=0x00; 
C51 COMPILER V9.60.0.0   TASK11                                                            08/22/2022 04:16:53 PAGE 2   

  55   1           IE=0x8F;
  56   1          EA=1;
  57   1         led_yellow=0;
  58   1          TR0=1;                            // Start timer
  59   1        
  60   1      
  61   1      
  62   1         // Write your code here
  63   1         while (1);
  64   1       }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    106    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      6    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
