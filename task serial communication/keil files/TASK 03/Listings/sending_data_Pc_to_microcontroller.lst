C51 COMPILER V9.60.0.0   SENDING_DATA_PC_TO_MICROCONTROLLER                                10/05/2021 17:42:13 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE SENDING_DATA_PC_TO_MICROCONTROLLER
OBJECT MODULE PLACED IN .\Objects\sending_data_Pc_to_microcontroller.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE sending_data_Pc_to_microcontroller.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJE
                    -CTEXTEND PRINT(.\Listings\sending_data_Pc_to_microcontroller.lst) TABS(2) OBJECT(.\Objects\sending_data_Pc_to_microcontr
                    -oller.obj)

line level    source

   1          #include<STC89xxx.h>
   2          #include<stdio.h>
   3          
   4          #define LCD_Port P0       /* P2 port as data_port */
   5          sbit rs=P2^6;             /* Register select pin */
   6          sbit rw=P2^5;             /* Read/Write pin */
   7          sbit en=P2^7;             /* Enable pin */
   8          
   9          unsigned char i;
  10          unsigned char y;
  11          unsigned char k;
  12          unsigned char Mystring[16];
  13                                                          /* Function to provide delay Approx 1ms with 12 Mhz crystal*/
  14          void delay(unsigned int count)        
  15          {
  16   1           int i,j;
  17   1           for(i=0;i<count;i++)
  18   1           for(j=0;j<114;j++);
  19   1      }
  20          
  21          void LCD_Command (char cmnd)                    /* LCD16x2 command funtion */
  22          {
  23   1        LCD_Port =cmnd; /* Send upper nibble */
  24   1        rs=0;                                         /* Command reg. */
  25   1        rw=0;                                         /* Write operation */
  26   1        en=1; 
  27   1        delay(1);
  28   1        en=0;
  29   1        delay(2);
  30   1      }
  31          
  32          void LCD_Char (char char_data)                      /*  LCD_data write function */
  33          {
  34   1      
  35   1        LCD_Port =char_data;/*  Send upper nibble */
  36   1        rs=1;                                             /*  Data reg.*/
  37   1        rw=0;                                             /*Write operation*/
  38   1        en=1;  
  39   1        delay(1);
  40   1        en=0;
  41   1        delay(2);
  42   1      }
  43          
  44          void LCD_String (char *str)         /* Send string to LCD function */
  45          {
  46   1        int i;
  47   1        for(i=0;str[i]!=0;i++)            /* Send each character of string till the NULL */
  48   1        {
  49   2          LCD_Char (str[i]);              /* Call LCD_data write */
  50   2        }
  51   1      }
  52          
  53          void LCD_String_xy (char row, char pos, char *str)  /* Send string to LCD function */
C51 COMPILER V9.60.0.0   SENDING_DATA_PC_TO_MICROCONTROLLER                                10/05/2021 17:42:13 PAGE 2   

  54          {
  55   1        if (row == 0)
  56   1        LCD_Command((pos & 0x0F)|0x80);
  57   1        else if (row == 1)
  58   1        LCD_Command((pos & 0x0F)|0xC0);
  59   1        LCD_String(str);                                  /* Call LCD string function */
  60   1      }
  61          
  62          void LCD_Init (void)                /* LCD Initialize function */
  63          {
  64   1        delay(20);                        /* LCD Power ON Initialization time >15ms */
  65   1        delay(20);    /* LCD Power ON Initialization time >15ms */
  66   1        LCD_Command (0x38); /* Initialization of 16X2 LCD in 8bit mode */
  67   1        LCD_Command (0x0C); /* Display ON Cursor OFF */
  68   1        LCD_Command (0x06); /* Auto Increment cursor */
  69   1        LCD_Command (0x01); /* clear display */
  70   1        LCD_Command (0x80); /* cursor at home position */
  71   1      }
  72          void main()
  73          {
  74   1      LCD_Init(); 
  75   1      
  76   1        TMOD=0x20;
  77   1        TH1=0xFD;
  78   1        SCON=0x50;
  79   1        PCON=0x00;
  80   1        TR1=1;
  81   1        while(1)
  82   1        {
  83   2        
  84   2        for(i=0;i<16;i++)
  85   2          {while(RI==0);
  86   3            RI=0;
  87   3            Mystring[i]=SBUF;
  88   3          }
  89   2        for(k=0;k<16;k++)
  90   2          {
  91   3          LCD_Char(Mystring[k]);
  92   3          }
  93   2        }
  94   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    281    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     19      10
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
